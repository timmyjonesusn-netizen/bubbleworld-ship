<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1, viewport-fit=cover">
<title>Timmy Time · Magenta Stage · v1.0.4e Performance+</title>
<meta name="description" content="Magenta Stage · Matrix background · Neon bubbles · Center-stage marketing shell · Performance+">

<!-- Speed boosters: preconnect / dns-prefetch for YouTube -->
<link rel="preconnect" href="https://www.youtube.com">
<link rel="preconnect" href="https://i.ytimg.com">
<link rel="preconnect" href="https://www.google.com">
<link rel="dns-prefetch" href="//www.youtube.com">
<link rel="dns-prefetch" href="//i.ytimg.com">
<link rel="dns-prefetch" href="//www.google.com">

<style>
  /* ====== Base ====== */
  *{box-sizing:border-box}
  html,body{margin:0;padding:0;height:100%;background:#000;color:#fff;
    font-family:-apple-system,BlinkMacSystemFont,"Segoe UI",Roboto,Helvetica,Arial}
  :root{
    --grid: rgba(0,255,120,0.26);
    --title:#fff4ff;
    --bubble-rgb:255,244,255;
    --glow: 0 0 22px rgba(255,64,255,.5), 0 0 44px rgba(255,64,255,.28);
    --shadow-soft: 0 0 24px rgba(255,64,255,.22);
  }

  /* ====== Matrix background (lightweight) ====== */
  .grid{position:fixed;inset:0;pointer-events:none;contain:paint;backface-visibility:hidden;
    background:
      radial-gradient(120vmin 120vmin at 10% 10%, rgba(255,255,255,.06), transparent 60%),
      radial-gradient(100vmin 100vmin at 88% 20%, rgba(255,255,255,.06), transparent 60%),
      radial-gradient(120vmin 120vmin at 28% 78%, rgba(255,255,255,.06), transparent 60%),
      linear-gradient(0deg,#05000c,#000 50%,#020005)}
  .grid::before{content:"";position:absolute;inset:0;
    background-image:
      linear-gradient(transparent 31px,var(--grid) 32px,transparent 33px),
      linear-gradient(90deg,transparent 31px,var(--grid) 32px,transparent 33px);
    background-size:32px 32px;opacity:.9}

  /* ====== Bubbles (GPU friendly) ====== */
  .bubbles{position:fixed;inset:0;pointer-events:none;overflow:hidden;contain:layout paint}
  .bubble{
    position:absolute;border-radius:50%;
    width:12vmin;height:12vmin;
    background:radial-gradient(circle at 30% 30%, rgba(var(--bubble-rgb),.18), rgba(var(--bubble-rgb),.06) 60%, rgba(var(--bubble-rgb),0) 70%);
    border:.45vmin solid rgba(255,182,255,.16);
    filter:drop-shadow(0 0 .6vmin rgba(255,255,255,.22));
    will-change: transform;
    animation: rise linear infinite;
    opacity:.85;
  }
  @keyframes rise{
    from{transform:translate3d(var(--x),110vh,0) scale(var(--s))}
    to  {transform:translate3d(calc(var(--x) + var(--drift)), -15vh,0) scale(var(--s))}
  }
  @media (prefers-reduced-motion: reduce){
    .bubble{animation: none; opacity:.25}
  }

  /* ====== Content ====== */
  .wrap{position:relative;min-height:100%;display:flex;flex-direction:column;gap:2rem;
    padding:10vh 6vw 22vh}
  .brand{display:flex;align-items:center;gap:1rem}
  .logo{font-weight:800;letter-spacing:.4rem;line-height:.9;text-shadow:var(--glow);user-select:none}
  .logo .row{display:block;font-size:2rem}
  .logo .row:first-child{color:#ff7cff}.logo .row:last-child{color:#ffb3ff}
  .ver{margin-left:auto;padding:.45rem .75rem;border:1px solid rgba(255,255,255,.22);
    border-radius:1rem;font-size:.95rem;color:#ffc8ff;background:rgba(0,0,0,.35);
    backdrop-filter:blur(6px);box-shadow:var(--shadow-soft)}

  h1{font-size:clamp(2.4rem,6vw,4.4rem);margin:0;color:var(--title);text-shadow:var(--glow)}
  .subtitle{font-size:clamp(1.2rem,2.8vw,1.6rem);color:#e9d5ff;opacity:.95}
  .bullets{font-size:clamp(1.1rem,2.6vw,1.5rem);opacity:.92}

  .stage{margin-top:1rem;display:grid;gap:1rem}
  .video-shell{
    position:relative;width:100%;max-width:1100px;margin-inline:auto;aspect-ratio:16/9;
    border-radius:1rem;border:2px solid rgba(255,128,255,.3);
    box-shadow:inset 0 0 18px rgba(255,64,255,.16);
    overflow:hidden;background:#070109;contain:content}
  .video-shell iframe{width:100%;height:100%;border:0;display:block;contain:strict}

  .joke{max-width:1100px;margin:.5rem auto 0;font-size:clamp(1.15rem,2.6vw,1.6rem);
    color:#ffd6ff;text-shadow:0 0 8px rgba(255,64,255,.25)}
  .addlink{max-width:1100px;margin:.5rem auto 0;display:flex;gap:.5rem;align-items:center}
  .addlink input{flex:1;padding:.8rem 1rem;font-size:1rem;border-radius:.8rem;border:1px solid rgba(255,255,255,.22);
    background:rgba(15,0,22,.6);color:#fff;outline:none}
  .addlink button{padding:.85rem 1rem;font-weight:700;border-radius:.8rem;border:1px solid rgba(255,255,255,.22);
    background:linear-gradient(90deg,#ff40ff,#ffa0ff);color:#1a001f;cursor:pointer;box-shadow:var(--shadow-soft)}

  .suno{max-width:1100px;margin:1.5rem auto 0}
  .suno h2{font-size:clamp(1.6rem,3.5vw,2.1rem);margin:0 0 .5rem;color:#ffd6ff;text-shadow:var(--glow)}
  .suno ul{margin:0;padding-left:1.1rem}.suno li{margin:.35rem 0}.suno a{color:#ffc2ff;text-decoration:underline}
  .note{margin-top:.75rem;color:#ffdbff;opacity:.8;font-size:.95rem}

  .nav-arrows{position:fixed;inset:auto 0 25vh 0;display:flex;justify-content:space-between;padding:0 4vw;pointer-events:none}
  .arrow{pointer-events:auto;width:84px;height:84px;border-radius:20px;display:grid;place-items:center;
    border:1px solid rgba(255,255,255,.22);background:rgba(0,0,0,.35);backdrop-filter:blur(6px);
    box-shadow:var(--shadow-soft)}
  .arrow svg{width:44px;height:44px;fill:#fff;opacity:.95}

  .footer{max-width:1100px;margin:2rem auto 0;color:#ffeaff;opacity:.9;font-size:clamp(1rem,2.2vw,1.15rem)}
  a,button{-webkit-tap-highlight-color:transparent}
</style>
</head>
<body>
  <div class="grid"></div>
  <div class="bubbles" id="bubbles"></div>

  <div class="wrap">
    <div class="brand">
      <div class="logo" aria-label="TIMMY TIME">
        <span class="row">TIMMY</span><span class="row">TIME</span>
      </div>
      <div class="ver">Static Mirror · <strong>v1.0.4e</strong></div>
    </div>

    <div>
      <h1>Magenta Stage <span class="subtitle">· Reels Lab E</span></h1>
      <div class="bullets">Performance+ mode • Matrix background • Neon bubbles</div>
    </div>

    <section class="stage" aria-label="Video Stage">
      <div class="video-shell" id="videoShell">
        <!-- Faster first paint: lazy by default; eager if ?instant=1 -->
        <iframe id="ytFrame"
          src="https://www.youtube.com/embed/dQw4w9WgXcQ"
          title="YouTube video player"
          loading="lazy"
          fetchpriority="low"
          referrerpolicy="origin"
          allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share"
          allowfullscreen></iframe>
      </div>

      <div class="joke" id="jokeLine">“Creators welcome. Copyright-free vibes, neon-powered.”</div>

      <div class="addlink" aria-label="Add YouTube Link">
        <input id="ytInput" type="url" inputmode="url" placeholder="Paste YouTube link (watch / shorts / youtu.be) and tap +"
               autocomplete="off" spellcheck="false">
        <button id="addBtn" title="Embed">+</button>
      </div>
    </section>

    <section class="suno">
      <h2>Suno Playlists</h2>
      <ul>
        <li><a href="https://suno.com/playlist/bb594ef1-d260-46b7-af7f-e3a3286d39b1" target="_blank" rel="noopener">Vibe 1 — Laugh</a></li>
        <li><a href="https://suno.com/playlist/2ec04889-1c23-4e2d-9c27-8a2b6475da4b" target="_blank" rel="noopener">Vibe 2 — Play</a></li>
        <li><a href="https://suno.com/playlist/e95ddd12-7e37-43e2-b3e0-fe342085a19f" target="_blank" rel="noopener">Vibe 3 — Fun</a></li>
        <li><a href="https://suno.com/playlist/c387adf4-abdb-4f74-9075-c4cb460c8840" target="_blank" rel="noopener">Vibe 4 — Motown</a></li>
        <li><a href="https://suno.com/playlist/34190a09-abb2-470d-85a5-a1201f5e827c" target="_blank" rel="noopener">Vibe 5 — Feeling it</a></li>
      </ul>
      <div class="note">Static preview. For saved links & port-hop, run <code>python app.py</code> locally.</div>
    </section>

    <div class="footer">
      Tip: add <code>&fast=1</code> for “performance mode”, or <code>&instant=1</code> to eager-load the video.
    </div>
  </div>

  <div class="nav-arrows" aria-hidden="true">
    <a class="arrow" href="#prev" title="Prev">
      <svg viewBox="0 0 24 24" aria-hidden="true"><path d="M15.41 7.41 14 6l-6 6 6 6 1.41-1.41L10.83 12z"/></svg>
    </a>
    <a class="arrow" href="#next" title="Next">
      <svg viewBox="0 0 24 24" aria-hidden="true"><path d="M8.59 16.59 13.17 12 8.59 7.41 10 6l6 6z"/></svg>
    </a>
  </div>

<script>
  // URL params
  const qs = new URLSearchParams(location.search);
  const FAST = qs.get('fast') === '1';
  const INSTANT = qs.get('instant') === '1';

  // Tune iframe loading strategy
  (function tuneIframe(){
    const f = document.getElementById('ytFrame');
    if (INSTANT){
      f.setAttribute('loading','eager');
      f.setAttribute('fetchpriority','high');
    }
  })();

  // GPU-friendly bubbles with auto-scaling for mobile + fast mode
  (function makeBubbles(){
    const root = document.getElementById('bubbles');
    const small = window.innerWidth < 420;
    const base = small ? 14 : 22;
    const count = FAST ? Math.max(8, Math.floor(base*0.55)) : base;

    for (let i=0;i<count;i++){
      const b = document.createElement('div');
      b.className = 'bubble';
      // sizes and motion trimmed in FAST mode
      const size = (FAST ? 6 : 8) + Math.random()*(FAST ? 12 : 18);
      const startX = Math.random()*100;
      const drift = (Math.random()*18-9) + 'vw';
      const delay = (-Math.random()*(FAST?12:18))+'s';
      const dur = (FAST?14:18) + Math.random()*(FAST?20:26) + 's';
      b.style.width = size+'vmin';
      b.style.height = size+'vmin';
      b.style.setProperty('--x', startX+'vw');
      b.style.setProperty('--drift', drift);
      b.style.setProperty('--s', (FAST?0.7:0.7 + Math.random()*0.6).toFixed(2));
      b.style.animationDuration = dur;
      b.style.animationDelay = delay;
      root.appendChild(b);
    }
  })();

  // YouTube paste → auto-embed (same as before)
  function toEmbed(url){
    if(!url) return null;
    try{
      url = url.trim();
      let m;
      if (m = url.match(/^https?:\/\/youtu\.be\/([a-zA-Z0-9_-]{6,})/)) return 'https://www.youtube.com/embed/'+m[1];
      if (m = url.match(/[?&]v=([a-zA-Z0-9_-]{6,})/)) return 'https://www.youtube.com/embed/'+m[1];
      if (m = url.match(/youtube\.com\/shorts\/([a-zA-Z0-9_-]{6,})/)) return 'https://www.youtube.com/embed/'+m[1];
      return null;
    }catch(e){ return null; }
  }
  document.getElementById('addBtn').addEventListener('click', ()=>{
    const val = document.getElementById('ytInput').value;
    const embed = toEmbed(val);
    if(embed){
      const f = document.getElementById('ytFrame');
      f.src = embed;
      document.getElementById('jokeLine').textContent = 'Loaded. Lights up—roll camera.';
      document.getElementById('ytInput').value = '';
    } else {
      document.getElementById('jokeLine').textContent = 'Hmm… that link doesn’t look like YouTube.';
    }
  });
  document.getElementById('ytInput').addEventListener('keydown', (e)=>{
    if(e.key==='Enter') document.getElementById('addBtn').click();
  });
</script>
</body>
</html>
