<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1">
<title>Timmy Time · Magenta Stage · v1.0.4d</title>
<meta name="description" content="Timmy Time · Magenta Stage · Reels Lab E · Matrix background · Neon bubbles · Diagnostic HUD">
<style>
  *{box-sizing:border-box}html,body{margin:0;padding:0;height:100%;background:#000;color:#fff;font-family:-apple-system,BlinkMacSystemFont,"Segoe UI",Roboto,Helvetica,Arial,"Apple Color Emoji","Segoe UI Emoji","Segoe UI Symbol"}
  :root{--grid:rgba(0,255,120,0.26);--magenta:#ff40ff;--title:#fff4ff;--bubble-rgb:255,244,255;--title-shadow:0 0 22px rgba(255,64,255,.6),0 0 44px rgba(255,64,255,.35);--hud-shadow:0 0 14px rgba(255,64,255,.45)}
  .grid{position:fixed;inset:0;pointer-events:none;background:
    radial-gradient(120vmin 120vmin at 10% 10%, rgba(255,255,255,.06), transparent 60%),
    radial-gradient(100vmin 100vmin at 88% 20%, rgba(255,255,255,.06), transparent 60%),
    radial-gradient(120vmin 120vmin at 28% 78%, rgba(255,255,255,.06), transparent 60%),
    linear-gradient(0deg,#05000c,#000 50%,#020005)}
  .grid::before{content:"";position:absolute;inset:0;background-image:
    linear-gradient(transparent 31px,var(--grid) 32px,transparent 33px),
    linear-gradient(90deg,transparent 31px,var(--grid) 32px,transparent 33px);
    background-size:32px 32px;opacity:.9}

  .bubbles{position:fixed;inset:0;overflow:hidden;pointer-events:none}
  .bubble{position:absolute;width:12vmin;height:12vmin;border-radius:50%;
    background:radial-gradient(circle at 30% 30%,rgba(var(--bubble-rgb),.22),rgba(var(--bubble-rgb),.06) 60%,rgba(var(--bubble-rgb),0) 70%);
    filter:blur(.2vmin) drop-shadow(0 0 .75vmin rgba(255,255,255,.25));
    animation:rise linear infinite;opacity:.8;border:.5vmin solid rgba(255,182,255,.20)}
  @keyframes rise{from{transform:translateY(110vh) translateX(var(--dx)) scale(var(--s))}to{transform:translateY(-15vh) translateX(calc(var(--dx) + var(--drift))) scale(var(--s))}}

  .wrap{position:relative;min-height:100%;display:flex;flex-direction:column;gap:2rem;padding:10vh 6vw 22vh}
  .brand{display:flex;align-items:center;gap:1rem}
  .logo{font-weight:800;letter-spacing:.4rem;line-height:.9;text-shadow:var(--title-shadow);user-select:none;cursor:pointer}
  .logo .row{display:block;font-size:2rem}
  .logo .row:first-child{color:#ff7cff}.logo .row:last-child{color:#ffb3ff}
  .ver{margin-left:auto;padding:.45rem .75rem;border:1px solid rgba(255,255,255,.25);border-radius:1rem;font-size:.95rem;color:#ffc8ff;background:rgba(0,0,0,.35);backdrop-filter:blur(6px);box-shadow:var(--hud-shadow)}
  h1{font-size:clamp(2.4rem,6vw,4.4rem);margin:0;color:var(--title);text-shadow:var(--title-shadow)}
  .subtitle{font-size:clamp(1.2rem,2.8vw,1.6rem);color:#e9d5ff;opacity:.95}
  .bullets{font-size:clamp(1.1rem,2.6vw,1.5rem);color:#fff;opacity:.92}

  .stage{margin-top:1rem;display:grid;gap:1rem}
  .video-shell{position:relative;width:100%;max-width:1100px;margin-inline:auto;aspect-ratio:16/9;border-radius:1rem;border:2px solid rgba(255,128,255,.35);box-shadow:0 0 40px rgba(255,64,255,.25), inset 0 0 24px rgba(255,64,255,.18);overflow:hidden;background:#070109}
  .video-shell iframe{width:100%;height:100%;border:0;display:block}
  .fallback{position:absolute;inset:0;display:none;place-items:center;text-align:center;padding:2rem;color:#ffd6ff;background:rgba(0,0,0,.6)}
  .joke{max-width:1100px;margin:.5rem auto 0;font-size:clamp(1.15rem,2.6vw,1.6rem);color:#ffd6ff;text-shadow:0 0 8px rgba(255,64,255,.35)}
  .addlink{max-width:1100px;margin:.5rem auto 0;display:flex;gap:.5rem;align-items:center}
  .addlink input{flex:1;padding:.8rem 1rem;font-size:1rem;border-radius:.8rem;border:1px solid rgba(255,255,255,.25);background:rgba(15,0,22,.65);color:#fff;outline:none}
  .addlink button{padding:.85rem 1rem;font-weight:700;border-radius:.8rem;border:1px solid rgba(255,255,255,.25);background:linear-gradient(90deg,#ff40ff,#ffa0ff);color:#1a001f;cursor:pointer;box-shadow:var(--hud-shadow)}

  .suno{max-width:1100px;margin:1.5rem auto 0}
  .suno h2{font-size:clamp(1.6rem,3.5vw,2.1rem);margin:0 0 .5rem;color:#ffd6ff;text-shadow:var(--title-shadow)}
  .suno ul{margin:0;padding-left:1.1rem}.suno li{margin:.35rem 0}.suno a{color:#ffc2ff;text-decoration:underline}
  .note{margin-top:.75rem;color:#ffdbff;opacity:.8;font-size:.95rem}

  .nav-arrows{position:fixed;inset:auto 0 25vh 0;display:flex;justify-content:space-between;padding:0 4vw;pointer-events:none}
  .arrow{pointer-events:auto;width:84px;height:84px;border-radius:20px;display:grid;place-items:center;border:1px solid rgba(255,255,255,.25);background:rgba(0,0,0,.35);backdrop-filter:blur(6px);box-shadow:var(--hud-shadow)}
  .arrow svg{width:44px;height:44px;fill:#fff;opacity:.95}
  .footer{max-width:1100px;margin:2rem auto 0;color:#ffeaff;opacity:.9;font-size:clamp(1rem,2.2vw,1.15rem)}
  a,button{-webkit-tap-highlight-color:transparent}

  /* ===== Diagnostics HUD ===== */
  .hud{position:fixed;right:1rem;top:1rem;z-index:9999;max-width:92vw;background:rgba(10,0,14,.78);border:1px solid rgba(255,255,255,.25);border-radius:12px;padding:.75rem 1rem;font-size:.95rem;backdrop-filter:blur(8px);box-shadow:0 0 24px rgba(255,64,255,.3);display:none}
  .hud.show{display:block}
  .hud h3{margin:.1rem 0 .6rem 0;font-size:1.05rem;color:#ffd6ff}
  .hud .ok{color:#9CFF9C} .hud .bad{color:#ff9c9c}
  .hud code{font-family:ui-monospace, SFMono-Regular, Menlo, Consolas, "Liberation Mono", monospace;color:#ffe8ff}
  .hud .row{margin:.25rem 0}
  .hud .btns{display:flex;gap:.5rem;margin-top:.5rem}
  .hud button{border:1px solid rgba(255,255,255,.25);background:rgba(0,0,0,.35);color:#fff;border-radius:.5rem;padding:.35rem .6rem}
</style>
</head>
<body>
  <div class="grid"></div>
  <div class="bubbles" id="bubbles"></div>

  <div class="wrap">
    <div class="brand">
      <div class="logo" id="logo" title="Tap 5× for diagnostics" aria-label="TIMMY TIME">
        <span class="row">TIMMY</span><span class="row">TIME</span>
      </div>
      <div class="ver">Static Mirror · <strong>v1.0.4d</strong></div>
    </div>

    <div>
      <h1>Magenta Stage <span class="subtitle">· Reels Lab E</span></h1>
      <div class="bullets">Center-stage marketing shell • Matrix background • Neon bubbles</div>
    </div>

    <section class="stage" aria-label="Video Stage">
      <div class="video-shell" id="videoShell">
        <iframe id="ytFrame" src="https://www.youtube.com/embed/dQw4w9WgXcQ"
          title="YouTube video player"
          allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share"
          allowfullscreen></iframe>
        <div class="fallback" id="ytFallback"><div>
          <strong>YouTube embed blocked.</strong><br><br>
          Try a Private tab or disable content blockers for github.io. You can still paste a new link below.
        </div></div>
      </div>
      <div class="joke" id="jokeLine">“Creators welcome. Copyright-free vibes, neon-powered.”</div>

      <div class="addlink" aria-label="Add YouTube Link">
        <input id="ytInput" type="url" inputmode="url" placeholder="Paste YouTube link (watch / shorts / youtu.be) and tap +"
               autocomplete="off" spellcheck="false">
        <button id="addBtn" title="Embed">+</button>
      </div>
    </section>

    <section class="suno">
      <h2>Suno Playlists</h2>
      <ul>
        <li><a href="https://suno.com/playlist/bb594ef1-d260-46b7-af7f-e3a3286d39b1" target="_blank" rel="noopener">Vibe 1 — Laugh</a></li>
        <li><a href="https://suno.com/playlist/2ec04889-1c23-4e2d-9c27-8a2b6475da4b" target="_blank" rel="noopener">Vibe 2 — Play</a></li>
        <li><a href="https://suno.com/playlist/e95ddd12-7e37-43e2-b3e0-fe342085a19f" target="_blank" rel="noopener">Vibe 3 — Fun</a></li>
        <li><a href="https://suno.com/playlist/c387adf4-abdb-4f74-9075-c4cb460c8840" target="_blank" rel="noopener">Vibe 4 — Motown</a></li>
        <li><a href="https://suno.com/playlist/34190a09-abb2-470d-85a5-a1201f5e827c" target="_blank" rel="noopener">Vibe 5 — Feeling it</a></li>
      </ul>
      <div class="note">Static preview. For saved links & port-hop, run <code>python app.py</code> locally.</div>
    </section>

    <div class="footer">
      Cache tip: append <code>?v=1.0.4d</code> to your Pages URL or bump the number on each publish to see updates instantly.
    </div>
  </div>

  <div class="nav-arrows" aria-hidden="true">
    <a class="arrow" href="#prev" title="Prev">
      <svg viewBox="0 0 24 24" aria-hidden="true"><path d="M15.41 7.41 14 6l-6 6 6 6 1.41-1.41L10.83 12z"/></svg>
    </a>
    <a class="arrow" href="#next" title="Next">
      <svg viewBox="0 0 24 24" aria-hidden="true"><path d="M8.59 16.59 13.17 12 8.59 7.41 10 6l6 6z"/></svg>
    </a>
  </div>

  <!-- Diagnostics HUD -->
  <div class="hud" id="hud">
    <h3>Diagnostics</h3>
    <div class="row" id="chkDom">DOM: <span>…</span></div>
    <div class="row" id="chkJS">JS Running: <span>…</span></div>
    <div class="row" id="chkBubbles">Bubbles: <span>…</span></div>
    <div class="row" id="chkAnim">CSS Animations: <span>…</span></div>
    <div class="row" id="chkIframe">YouTube Iframe: <span>…</span></div>
    <div class="row" id="chkBlock">Blockers: <span>…</span></div>
    <div class="row">Viewport: <code id="vp"></code></div>
    <div class="row">URL: <code id="url"></code></div>
    <div class="btns">
      <button id="btnHide">Hide</button>
      <button id="btnReload">Reload</button>
    </div>
  </div>

<script>
/* ===== Helpers ===== */
const $ = (id)=>document.getElementById(id);
function mark(id, ok, msgOk, msgBad){
  const el = $(id).querySelector('span');
  if (!el) return;
  el.textContent = ok ? ("✅ " + (msgOk||"OK")) : ("❌ " + (msgBad||"Issue"));
  el.className = ok ? "ok" : "bad";
}

/* ===== Bubbles ===== */
(function makeBubbles(){
  const root = $('bubbles');
  const count = 22;
  for (let i=0;i<count;i++){
    const b = document.createElement('div');
    b.className = 'bubble';
    const size = 8 + Math.random()*18;
    const startX = Math.random()*100;
    const drift = (Math.random()*20-10) + 'vw';
    const delay = (-Math.random()*18)+'s';
    const dur = (18 + Math.random()*26) + 's';
    b.style.width = size+'vmin'; b.style.height = size+'vmin';
    b.style.left = startX+'vw';
    b.style.setProperty('--dx', (Math.random()*12-6) + 'vw');
    b.style.setProperty('--drift', drift);
    b.style.setProperty('--s', (0.7 + Math.random()*0.6).toFixed(2));
    b.style.animationDuration = dur; b.style.animationDelay = delay;
    root.appendChild(b);
  }
})();

/* ===== YouTube Embeds ===== */
function toEmbed(url){
  if(!url) return null;
  try{
    url = url.trim();
    let m;
    if (m = url.match(/^https?:\/\/youtu\.be\/([a-zA-Z0-9_-]{6,})/)) return 'https://www.youtube.com/embed/'+m[1];
    if (m = url.match(/[?&]v=([a-zA-Z0-9_-]{6,})/)) return 'https://www.youtube.com/embed/'+m[1];
    if (m = url.match(/youtube\.com\/shorts\/([a-zA-Z0-9_-]{6,})/)) return 'https://www.youtube.com/embed/'+m[1];
    return null;
  }catch(e){ return null; }
}

$('addBtn').addEventListener('click', ()=>{
  const val = $('ytInput').value;
  const embed = toEmbed(val);
  if(embed){
    $('ytFrame').src = embed;
    $('jokeLine').textContent = 'Loaded. Lights up—roll camera.';
    $('ytInput').value = '';
  } else {
    $('jokeLine').textContent = 'Hmm… that link doesn’t look like YouTube.';
  }
});
$('ytInput').addEventListener('keydown', (e)=>{ if(e.key==='Enter') $('addBtn').click(); });

/* ===== HUD Control ===== */
(function hud(){
  let taps = 0; const logo = $('logo'), hud = $('hud');
  const qs = new URLSearchParams(location.search);
  function show(){ hud.classList.add('show'); }
  function hide(){ hud.classList.remove('show'); }
  $('btnHide').onclick = hide; $('btnReload').onclick = ()=>location.reload();
  logo.addEventListener('click', ()=>{ taps++; if(taps>=5) show(); setTimeout(()=>taps=0, 800); });
  if (qs.get('debug')==='1') show();

  // Populate basics
  $('vp').textContent = `${window.innerWidth}×${window.innerHeight}px`;
  $('url').textContent = location.href;
  mark('chkDom', true, 'Ready');

  // JS running check
  const start = performance.now();
  requestAnimationFrame(()=>{
    const dt = (performance.now() - start).toFixed(1);
    mark('chkJS', true, `RAF ok (${dt}ms)`);
  });

  // Bubbles check
  const bubbleCount = document.querySelectorAll('.bubble').length;
  mark('chkBubbles', bubbleCount>0, `${bubbleCount} created`, 'none created');

  // CSS animation check
  const anyAnim = [...document.querySelectorAll('.bubble')].some(b=>getComputedStyle(b).animationName === 'rise');
  mark('chkAnim', anyAnim, 'running', 'not running');

  // Iframe load/block detection
  const iframe = $('ytFrame');
  let loaded = false;
  iframe.addEventListener('load', ()=>{ loaded = true; mark('chkIframe', true, 'loaded'); $('ytFallback').style.display='none'; });
  setTimeout(()=>{
    if(!loaded){
      mark('chkIframe', false, '','no load (blocked?)');
      $('ytFallback').style.display='grid';
      mark('chkBlock', true, 'Possibly a content blocker');
    } else {
      mark('chkBlock', true, 'No obvious blocking');
    }
  }, 1200);
})();
</script>
</body>
</html>
