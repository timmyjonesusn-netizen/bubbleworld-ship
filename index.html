<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0" />
<title>Bubble World Â· Timmy Ship</title>
<style>
    *{
        box-sizing:border-box;
        margin:0;
        padding:0;
        -webkit-font-smoothing:antialiased;
    }
    body{
        font-family:-apple-system,BlinkMacSystemFont,"Inter",Roboto,sans-serif;
        color:#fff;
        min-height:100vh;
        background:radial-gradient(circle at 50% 30%,rgba(255,0,128,0.25)0%,rgba(0,0,0,0)60%),
                   radial-gradient(circle at 20% 80%,rgba(255,140,0,0.18)0%,rgba(0,0,0,0)60%),
                   radial-gradient(circle at 80% 70%,rgba(138,43,226,0.35)0%,rgba(0,0,0,0)70%),
                   #000014;
        background-attachment:fixed;
        display:flex;
        flex-direction:column;
        min-height:100dvh;
        position:relative;
        overflow-x:hidden;
    }

    /* top badge */
    .badge-wrap{
        display:flex;
        justify-content:center;
        margin-top:1.5rem;
    }
    .badge{
        border-radius:999px;
        border:1px solid rgba(255,255,255,.3);
        background:rgba(0,0,0,.4);
        padding:.6rem 1rem;
        font-size:.8rem;
        font-weight:500;
        letter-spacing:.08em;
        color:#fff;
        text-shadow:0 0 6px rgba(255,0,170,.6),0 0 24px rgba(170,0,255,.5);
        box-shadow:0 30px 60px rgba(0,0,0,.8),
                   0 0 30px rgba(255,0,200,.4),
                   0 0 80px rgba(255,128,0,.2);
        backdrop-filter:blur(10px);
    }

    /* hero text */
    .hero{
        text-align:center;
        padding:1.5rem 1rem 0 1rem;
        max-width:34rem;
        margin:0 auto;
    }
    .title{
        font-size:clamp(2rem,2.5vw,2.6rem);
        line-height:1.15;
        font-weight:700;
        background:radial-gradient(circle at 20% 20%,#fff 0%,#ff00dd 30%,#ff7300 60%,#7a00ff 100%);
        -webkit-background-clip:text;
        color:transparent;
        text-shadow:
            0 0 12px rgba(255,0,170,.6),
            0 0 32px rgba(255,140,0,.4),
            0 0 64px rgba(170,0,255,.4);
        margin-top:1rem;
    }
    .desc{
        font-size:1.25rem;
        line-height:1.4;
        font-weight:500;
        color:#fff;
        text-shadow:0 0 8px rgba(0,0,0,.8),0 0 16px rgba(255,0,150,.4);
        margin-top:1rem;
    }
    .note{
        font-size:1rem;
        line-height:1.4;
        font-weight:400;
        color:rgba(255,255,255,.75);
        text-shadow:0 0 8px rgba(0,0,0,.7);
        margin-top:1rem;
    }

    /* bubble art clusters (static SVG-ish blobs using gradients) */
    .bubbles-bg{
        position:absolute;
        inset:0;
        overflow:hidden;
        pointer-events:none;
        z-index:0;
    }
    .orb{
        position:absolute;
        border-radius:50%;
        background:radial-gradient(circle at 30% 30%,rgba(255,255,255,.9)0%,rgba(255,0,170,.55)30%,rgba(80,0,120,.4)60%,rgba(0,0,0,0)70%);
        box-shadow:
            0 0 20px 4px rgba(255,0,170,.6),
            0 0 60px 12px rgba(255,140,0,.4),
            0 0 120px 24px rgba(170,0,255,.3);
        filter:blur(0.2px);
        opacity:.8;
    }
    /* manual layout of some foreground bubbles to match your screenshot */
    .orb.big-center{
        width:55vh;
        height:55vh;
        max-width:520px;
        max-height:520px;
        left:50%;
        top:9rem;
        transform:translateX(-50%);
        opacity:.3;
    }
    .orb.side-top{
        width:200px;height:200px;
        right:0;top:2rem;
        opacity:.5;
    }
    .orb.low-left{
        width:220px;height:220px;
        left:1rem;bottom:8rem;
        opacity:.8;
    }
    .orb.low-right{
        width:260px;height:260px;
        right:0;bottom:8rem;
        opacity:.6;
    }
    .orb.floater1{
        width:140px;height:140px;
        left:55%;top:22rem;
        transform:translateX(-50%);
        opacity:.7;
    }
    .orb.floater2{
        width:130px;height:130px;
        left:40%;top:27rem;
        transform:translateX(-50%);
        opacity:.6;
    }
    .orb.floater3{
        width:150px;height:150px;
        right:2rem;top:26rem;
        opacity:.5;
    }

    /* music pill */
    .music-pill-wrap{
        width:100%;
        display:flex;
        justify-content:center;
        position:fixed;
        left:0;
        bottom:1rem;
        pointer-events:none;
        z-index:5;
    }
    .music-pill{
        pointer-events:auto;
        background:radial-gradient(circle at 20% 20%,rgba(30,0,30,.8)0%,rgba(0,0,0,.6)60%);
        border-radius:1rem;
        border:1px solid rgba(255,255,255,.3);
        box-shadow:
            0 30px 60px rgba(0,0,0,.9),
            0 0 30px rgba(255,0,200,.4),
            0 0 80px rgba(255,128,0,.2),
            0 0 140px rgba(170,0,255,.3);
        padding:1rem 1rem;
        min-width:min(90%,28rem);
        max-width:28rem;
        display:flex;
        justify-content:space-between;
        align-items:center;
        flex-wrap:wrap;
        row-gap:.75rem;
        backdrop-filter:blur(10px);
    }
    .music-left{
        display:flex;
        flex-direction:column;
    }
    .music-label{
        font-size:1.1rem;
        font-weight:600;
        color:#fff;
        text-shadow:0 0 6px rgba(255,0,170,.8),0 0 18px rgba(170,0,255,.8);
    }
    .music-sub{
        font-size:1rem;
        font-weight:400;
        color:rgba(255,255,255,.7);
    }
    .music-btn{
        background:radial-gradient(circle at 20% 20%,rgba(255,0,187,.6)0%,rgba(120,0,255,.4)60%);
        color:#fff;
        font-size:1rem;
        font-weight:600;
        padding:.7rem 1rem;
        min-width:5rem;
        text-align:center;
        border-radius:.8rem;
        border:1px solid rgba(255,255,255,.4);
        text-decoration:none;
        text-shadow:0 0 4px rgba(0,0,0,.8);
        box-shadow:
            0 0 12px rgba(255,0,187,.8),
            0 0 40px rgba(140,0,255,.8);
    }
    .music-btn:active{scale:.97;}

    /* ENGINE ROOM PANEL (inserted under pill when local ship is reachable) */
    .engine-panel-wrap{
        width:100%;
        display:flex;
        justify-content:center;
        position:fixed;
        left:0;
        bottom:7.5rem; /* sits above music pill */
        z-index:4;
        pointer-events:none;
    }
    .engine-panel{
        pointer-events:auto;
        background:rgba(0,0,0,.4);
        border:1px solid rgba(0,255,140,.4);
        border-radius:1rem;
        box-shadow:
            0 0 12px rgba(0,255,170,.8),
            0 0 40px rgba(0,200,120,.4),
            0 30px 60px rgba(0,0,0,.9);
        min-width:min(90%,28rem);
        max-width:28rem;
        padding:1rem 1rem 1.2rem;
        font-size:.9rem;
        line-height:1.4;
        color:#d8ffe8;
        font-weight:500;
        font-family: ui-monospace, SFMono-Regular, Menlo, Consolas, monospace;
        display:none; /* hidden by default, JS will show if data loads */
        backdrop-filter:blur(10px);
    }
    .engine-title{
        font-size:.8rem;
        font-weight:600;
        text-transform:uppercase;
        letter-spacing:.08em;
        color:#7bffc5;
        text-shadow:0 0 8px rgba(0,255,200,.8),0 0 24px rgba(0,140,80,.8);
        margin-bottom:.5rem;
    }
    .engine-line{
        margin-bottom:.4rem;
        color:#d8ffe8;
    }
    .engine-ok{
        color:#7bffc5;
    }
    .engine-warn{
        color:#ffd27b;
    }
    .engine-bad{
        color:#ff7b7b;
    }
</style>
</head>
<body>

<!-- STATIC ORBS, MATCH YOUR SCREENSHOT -->
<div class="bubbles-bg">
    <div class="orb big-center"></div>
    <div class="orb side-top"></div>
    <div class="orb low-left"></div>
    <div class="orb low-right"></div>
    <div class="orb floater1"></div>
    <div class="orb floater2"></div>
    <div class="orb floater3"></div>
</div>

<!-- HERO TEXT -->
<div class="badge-wrap">
    <div class="badge">ENGINE ROOM // SAFE MODE</div>
</div>

<section class="hero">
    <div class="title">Bubble World</div>

    <div class="desc">
        Private calm space. Port-hopping shield.
        You are loved. You are protected. You are still here.
    </div>

    <div class="note">
        Public shell preview. Live core + Maya stay local.
    </div>
</section>

<!-- THIS PANEL IS YOUR LIVE CORE STATUS -->
<div class="engine-panel-wrap">
    <div class="engine-panel" id="enginePanel">
        <div class="engine-title">ENGINE TELEMETRY (LOCAL LINK)</div>
        <div class="engine-line" id="snifferLine">Sniffer: â€¦</div>
        <div class="engine-line" id="hopperLine">Hopper: â€¦</div>
        <div class="engine-line" id="healerLine">Healer: â€¦</div>
        <div class="engine-line" id="mayaLine">Maya: â€¦</div>
    </div>
</div>

<!-- TIMMY TIME MUSIC PILL -->
<div class="music-pill-wrap">
    <div class="music-pill">
        <div class="music-left">
            <div class="music-label">Timmy Time Music</div>
            <div class="music-sub">tap to vibe ðŸ’œ</div>
        </div>
        <a class="music-btn"
           href="https://suno.com/playlist/2ec04889-1c23-4e2d-9c27-8a2b6475da4b"
           target="_blank" rel="noopener noreferrer">
           Play
        </a>
    </div>
</div>

<script>
/*
GOAL:
- Try to talk to your live local Flask ship.
- If it answers, we show engine panel with real data.
- If not, we stay quiet (public just sees the pretty shell).
HOW IT WORKS:
We call http://127.0.0.1:PORT/telemetry (you run this route locally).
We do not expose port hopper logic or stealth hash to the public.
*/

const ENGINE_PORTS_TO_TRY = [5000,5001,5002,5003,5004,5005,5010,5011]; // hop-safe window
async function tryFetchTelemetry() {
    for (const port of ENGINE_PORTS_TO_TRY) {
        try {
            const res = await fetch(`http://127.0.0.1:${port}/telemetry`, {
                method: 'GET'
            });
            if (res.ok) {
                const data = await res.json();
                applyTelemetry(data, port);
                break;
            }
        } catch (e) {
            // ignore error, try next port
        }
    }
}

function applyTelemetry(data, port){
    const panel = document.getElementById('enginePanel');
    panel.style.display = 'block';

    document.getElementById('snifferLine').textContent =
        `Sniffer: ${data.sniffer || "ok"} [port ${port}]`;
    document.getElementById('hopperLine').textContent =
        `Hopper: ${data.hopper || "stable"}`;
    document.getElementById('healerLine').textContent =
        `Healer: ${data.healer || "bubble field holding"}`;
    document.getElementById('mayaLine').textContent =
        `Maya: ${data.maya || "online ðŸ’–"}`;
}

// run check after page load
tryFetchTelemetry();
</script>

</body>
</html>
